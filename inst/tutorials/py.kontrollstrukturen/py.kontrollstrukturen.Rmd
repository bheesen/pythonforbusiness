---
title: "Syntax"
author: "Tutorial von [_Professor Bernd Heesen_](http://www.profheesen.de), dem Autor des Buches [_K√ºnstliche Intelligenz im Business: Erstellung eigener Anwendungen mit Python_](https://www.amazon.de/K%C3%BCnstliche-Intelligenz-Business-Erstellung-Anwendungen/dp/3658495448)"
date: "Version vom 16.08.2025"
output: 
  learnr::tutorial:
    progressive: TRUE
    allow_skip: TRUE
    language: de
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
library(reticulate)
library(pythonforbusiness)
```

## Willkommen

Dieses Tutorial erg√§nzt die Inhalte des Buches [_K√ºnstliche Intelligenz im Business: Erstellung eigener Anwendungen mit Python_](https://www.amazon.de/K%C3%BCnstliche-Intelligenz-Business-Erstellung-Anwendungen/dp/3658495448).

Das Kapitel 5.4 im Buch beschreibt Kontrollstrukturen von Python.

Auch in Python existieren die in Programmiersprachen √ºblichen Kontrollstrukturen if, else und Schleifen vom Typ for und while, um Programmlogik abzubilden. 

## 1. IF-Anweisung

Eine if/else-Anweisung folgt folgender Syntax: if (Bedingung): Anweisungsblock-if else Anweisungsblock-else oder bei mehr als zwei Fallunterscheidungen if (Bedingung): Anweisungsblock-if elif (Bedingung-2) Anweisungsblock-2 else Anweisungsblock-else, wie im nachfolgenden Bild dargestellt: ![If](images/if.jpg).

```{python 1, exercise=FALSE}
import pandas as pd                     # Pandas f√ºr Dataframe
a,b,c= 1,2,3
## IF-Anweisung-------------------------------------------------------------------
b>a
if b>a: 
  print("B ist gr√∂√üer als a")
else:
  print("B ist nicht gr√∂√üer als a") 
## IF/ELIF Anweisung--------------------------------------------------------------
if b<a: 
  print("B ist kleiner als a")
elif (c<b):
  print("C ist kleiner als b") 
else:
  print("Weder B ist kleiner als a noch ist c kleiner als b")
```

### 1.1 √úbung zu IF-Anweisung

Sie arbeiten in der Unternehmensanalyse und sollen die Ums√§tze der vergangenen 12 Monate bewerten.Das Unternehmen hat die Monatsums√§tze bereits zur Verf√ºgung gestellt. Ihre Aufgabe ist es, jeden Monat einzeln zu bewerten. Die Bewertung erfolgt nach folgender Skala:

Umsatz (‚Ç¨)	      Bewertung
√úber 100.000	    Exzellent
75.000 ‚Äì 100.000	Sehr gut
50.000 ‚Äì 74.999	  Gut
25.000 ‚Äì 49.999	  Ausreichend
Unter 25.000	    Verbesserungsw√ºrdig

```{python 1_1-setup, echo=TRUE, exercise=FALSE}
monate = [
    "Januar", "Februar", "M√§rz", "April", "Mai", "Juni",
    "Juli", "August", "September", "Oktober", "November", "Dezember"
]
umsaetze = [
    102000, 87000, 43000, 21000, 98000, 56000,
    74000, 120000, 39000, 25000, 66000, 83000
]
```

Aufgabenstellung: Verwenden Sie eine Schleife, um √ºber alle Monate zu iterieren. Nutzen Sie if, elif, else, um die Bewertung jedes Umsatzes zu bestimmen. Geben Sie eine Liste mit Monat, Umsatz und Bewertung aus.

Die Anzeige sollte hinterher wie folgt aussehen: ![IF-Anweisung](images/if_1_1.jpg)

```{python 1_1, exercise=TRUE, exercise.setup="1_1-setup"}
```
```{python 1_1-hint-1}
print("üìä Monatsumsatz mit Bewertung:\n")
for i in range(len(monate)):
    monat = monate[i]
    umsatz = umsaetze[i]
    if umsatz > 100000:
        bewertung = "Exzellent"
    elif umsatz >= 75000:
        bewertung = "Sehr gut"
    elif umsatz >= 50000:
        bewertung = "Gut"
    elif umsatz >= 25000:
        bewertung = "Ausreichend"
    else:
        bewertung = "Verbesserungsw√ºrdig"
    print(f"{monat}: {umsatz:.2f} ‚Ç¨ ‚Äì {bewertung}")
```

## 2. FOR-Schleife

Eine for-Schleife folgt folgender Syntax: for Variable in Liste: Anweisungsblock, wie im nachfolgenden Bild dargestellt: ![For](images/for.jpg).

```{python 2, exercise=F}
## FOR-Schleife-------------------------------------------------------------------
l1=["Tobi","Silke","Klaus","Tobi"]       # Liste l1
for i in l1:
  print(i)
l2=[42,356,123,200]                      # Liste l2 (Facebook Freunde)
l3=[53,22,31,26]                         # Liste l3 (Alter)
df1=pd.DataFrame(list(zip(l1,l2,l3)),columns=["Freund","Facebook","Alter"])
df1                                      # Dataframe
df1.shape
for z in range(df1.shape[0]):            # Zeilenweise Ausgabe
  print(df1.iloc[z,])
for s in range(df1.shape[1]):
  for z in range(df1.shape[0]):
    print("Spalte/Zeile[",s,",",z,"]=",df1.iloc[z,s])
l4=[6,8,"1.23",5.78,"Text"]
for element in l4:                       # Try und Except Fehlerbehandlung
  try:
    if type(element) == str:
      if "." in element:
        num = float(element)
      else:
        num = int(element)
    print(element)
    f"Element '{element}' ist eine Zahl"
  except ValueError as e:
    print(e)
```

### 2.1 √úbung zu For-Anweisung

Sie sind Controller und ihr Unternehmen betreibt Filialen in mehreren europ√§ischen St√§dten.

```{python 2_1-setup, echo=TRUE, exercise=FALSE}
filialen = {
    "Berlin": 54000,
    "Paris": "keine Angabe",  # Ung√ºltiger Wert
    "Madrid": 47300
}
gesamtumsatz = 0
```

Aufgabenstellung: Sie analysieren Ums√§tze dreier europ√§ischer Filialen. Eine der Angaben liegt versehentlich im falschen Format vor. Ihr Programm soll diesen Fall erkennen, √ºberspringen, und dennoch den Gesamtumsatz berechnen.

Die Anzeige sollte hinterher wie folgt aussehen: ![For-Anweisung](images/for_2_1.jpg)

```{python 2_1, exercise=TRUE, exercise.setup="2_1-setup"}
```
```{python 2_1-hint-1}
print("üìä Umsatzanalyse der Filialen:\n")
for stadt, umsatz in filialen.items():
    try:
        betrag = float(umsatz)
        print(f"{stadt}: {betrag:.2f} ‚Ç¨")
        gesamtumsatz += betrag
    except ValueError:
        print(f"{stadt}: Ung√ºltige Umsatzangabe ‚Äì wird √ºbersprungen.")
print(f"\nGesamtumsatz aller g√ºltigen Angaben: {gesamtumsatz:.2f} ‚Ç¨")
```

## 3. While-Schleife

Eine while-Schleife folgt folgender Syntax: while (Bedingung): Anweisungsblock und l√§uft solange die Bedingung erf√ºllt ist oder bis die Funktion break() ausgef√ºhrt wird. Wird die Bedingung nicht erreicht und auch keine break()-Funktion ausgef√ºhrt, dann f√ºhrt dies zu einer Endlosschleife. Im nachfolgenden Bild ist die Logik dargestellt: ![While](images/while.png).

```{python 3, exercise=F}
## WHILE-Schleife-----------------------------------------------------------------
i1=1
while i1 <= 3:                           # Index-Schleife
  print("Schleifendurchlauf",i1,"\n")
  i1+=1
i2=29
while(i2>10):                            # Boolean-Schleife
  print("Zahl:",i2)
  i2-=3
  if i2==19:
    break
print("Zahl am Ende:",i2)
i2=28                                    # Abbruch durch break
while(i2>10):
  print("Zahl:",i2)
  i2-=3
  if i2==19:
    break
print("Zahl am Ende:",i2)
```

### 3.1 √úbung zu While-Anweisung

Sie erhalten eine Tabelle mit Bestellungen in Form eines DataFrames. Jede Bestellung enth√§lt den Bestellwert in Euro. Eine der Angaben ist fehlerhaft (z.‚ÄØB. ein Text statt einer Zahl).

```{python 3_1-setup, echo=TRUE, exercise=FALSE}
daten = {
    "Bestellnummer": [1001, 1002, 1003, 1004],
    "Bestellwert (‚Ç¨)": [199.99, 250.00, "unbekannt", 320.00]
}
df = pd.DataFrame(daten)
```

Aufgabenstellung: Ihre Aufgabe ist es, alle Bestellungen nacheinander mit einer while-Schleife zu verarbeiten und den Gesamtwert zu berechnen. Falls ein Fehler auftritt, bricht das Programm ab, zeigt die Fehlermeldung, und listet die Anzahl und den Wert der bis dahin verarbeiteten Bestellungen auf.

Die Anzeige sollte hinterher wie folgt aussehen: ![While-Anweisung](images/while_3_1.jpg)

```{python 3_1, exercise=TRUE, exercise.setup="3_1-setup"}
```
```{python 3_1-hint-1}
gesamtwert = 0.0
verarbeitet = 0
gesamtanzahl = len(df)
print("üì¶ Verarbeitung von Kundenbestellungen:\n")
index = 0
while index < gesamtanzahl:
    bestellung = df.iloc[index]
    bestellnummer = bestellung["Bestellnummer"]
    wert = bestellung["Bestellwert (‚Ç¨)"]
    try:
        wert_float = float(wert)
        print(f"Bestellnummer {bestellnummer} ‚Äì Wert: {wert_float:.2f} ‚Ç¨")
        gesamtwert += wert_float
        verarbeitet += 1
    except ValueError:
        print(f"\n‚ùå Fehler: Ung√ºltiger Bestellwert bei Bestellnummer {bestellnummer} ‚Äì '{wert}' ist kein g√ºltiger Betrag.")
        break
    index += 1
```
```{python 3_1-hint-2}
print(f"\nüî¢ Verarbeitete Bestellungen: {verarbeitet} von {gesamtanzahl}")
if verarbeitet == gesamtanzahl:
    print(f"‚úÖ Gesamtwert aller Bestellungen: {gesamtwert:.2f} ‚Ç¨")
else:
    print(f"‚ö†Ô∏è Verarbeitung abgebrochen. Bisheriger Gesamtwert: {gesamtwert:.2f} ‚Ç¨")
```

## 4. Quiz 

```{r 4, echo = FALSE}
quiz(
  question("Welche Schleife eignet sich f√ºr das Iterieren durch eine Liste?",
    answer("for", correct = TRUE),
    answer("while", correct = FALSE)
  ),
  question("Welche Anweisung beendet eine Schleife vorzeitig?",
    answer("break", correct = TRUE),
    answer("stop", correct = FALSE)
  ),
  question("Was passiert, wenn die Bedingung in einer while-Schleife niemals False wird?",
    answer("Die Schleife l√§uft unendlich", correct = TRUE),
    answer("Die Schleife wird √ºbersprungen", correct = FALSE)
  ),
  question("Welche Kontrollstruktur erlaubt eine Alternative f√ºr if-Bedingungen?",
    answer("elif", correct = TRUE),
    answer("else if", correct = FALSE)
  ),
  question("Welche Schleife eignet sich f√ºr das wiederholte Pr√ºfen einer Bedingung?",
    answer("while", correct = TRUE),
    answer("for", correct = FALSE)
  ),
  question("Was bewirkt die continue-Anweisung?",
    answer("√úberspringt den aktuellen Schleifendurchlauf", correct = TRUE),
    answer("Beendet die Schleife", correct = FALSE)
  ),
  question("Wie wird eine for-Schleife korrekt geschrieben?",
    answer("for i in range(5):", correct = TRUE),
    answer("for(i=0; i<5; i++)", correct = FALSE)
  ),
  question("Welche Schleife √ºberpr√ºft die Bedingung vor der ersten Iteration?",
    answer("while", correct = TRUE),
    answer("for", correct = FALSE)
  ),
  question("Was gibt 'if 5 > 3: print(\"Ja!\")' aus?",
    answer("Ja!", correct = TRUE),
    answer("Fehler", correct = FALSE)
  ),
  question("Welche Anweisung erm√∂glicht eine zus√§tzliche Bedingung nach 'if'?",
    answer("elif", correct = TRUE),
    answer("elseif", correct = FALSE)
  )
)
```

## Ende 

Gratulation!

Sie haben dieses Tutorial erfolgreich ausgef√ºhrt und einen ersten Einblick in die Syntax der Programmiersprache Python erhalten.